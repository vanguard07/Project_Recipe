# RecipeGPT

AI-powered chatbot that helps users find, understand, and customize food recipes using advanced NLP and retrieval-augmented generation.

---

## Overview
RecipeGPT is a full-stack application that enables users to:
- Extract and store recipes from any website.
- Search, filter, and retrieve recipes using natural language queries.
- Chat with an AI assistant to get recipe suggestions, explanations, and customizations.
- Store and manage recipes in a personal collection.

The system leverages OpenAI's GPT models, LangChain, MongoDB, and ChromaDB for intelligent recipe extraction, search, and conversational experiences.

---

## Architecture & Workflow

**Frontend:**
- Built with Next.js and React.
- Provides UI for recipe management, chat, and search.
- Communicates with backend via REST API.

**Backend:**
- FastAPI server exposes endpoints for recipe extraction, search, chat, and customization.
- Integrates with OpenAI (GPT-4, GPT-4o, o3-mini) for NLP tasks.
- Uses LangChain for retrieval-augmented generation (RAG) and context-aware chat.
- Stores recipes and chat history in MongoDB.
- Uses ChromaDB as a vector store for semantic search and retrieval.

**Workflow Pipelines:**
1. **Recipe Extraction:**
   - User submits a recipe URL.
   - Backend fetches the page, prompts OpenAI to extract structured recipe data (title, ingredients, instructions, nutrition, etc.) using a strict schema.
   - Data is validated and stored in MongoDB and vectorized in ChromaDB.
2. **Recipe Search:**
   - User enters a natural language query.
   - Backend classifies the query (search/customize/other) and generates a MongoDB filter using OpenAI.
   - Results are formatted and returned to the frontend.
3. **Chat & Customization:**
   - User chats with the AI assistant using one of two modes:
     - **OpenAI GPT Mode**: Direct interaction with GPT models for general recipe questions and customizations.
     - **LangChain RAG Mode**: Retrieval-augmented generation that uses your recipe database as context for more personalized responses.
   - Chat history is used for context-aware responses and recipe customization.
   - New recipes generated by AI can be stored for future use (Only available in the LangChain RAG Chat).

---

## Technologies Used
- **Frontend:** Next.js, React, Tailwind CSS, Lucide Icons
- **Backend:** FastAPI, Python, Pydantic
- **NLP & AI:** OpenAI GPT-4/4o/o3-mini, LangChain
- **Database:** MongoDB (for recipes and chat history)
- **Vector Store:** ChromaDB (for semantic search)
- **Other:** Docker (for containerization), Radix UI, Recharts

---

## Setup & Installation (Docker Only)

### Prerequisites
- Docker and Docker Compose
- OpenAI API key

### Quick Start with Docker

1. **Clone the repository:**
   ```bash
   git clone <repo-url>
   cd Project_Recipe
   ```

2. **Configure environment variables:**
   ```bash
   # Create a .env file in the root directory
   echo "OPENAI_API_KEY=your-api-key" > .env
   echo "MONGODB_URI=mongodb://mongodb:27017/recipes" >> .env
   echo "CHROMA_PERSIST_DIR=/data/chroma" >> .env
   ```

3. **Build and run the containers:**
   ```bash
   docker-compose up -d
   ```

4. **Access the application:**
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:8000
   - API Documentation: http://localhost:8000/docs

5. **Stop the application:**
   ```bash
   docker-compose down
   ```

### Container Details
- **Frontend Container**: Next.js application accessible on port 3000
- **Backend Container**: FastAPI server accessible on port 8000
- **MongoDB Container**: Database service for recipe storage
- **ChromaDB Container**: Vector database for semantic search capabilities

---

## Usage

- **Extract a Recipe:** Paste a recipe URL in the UI and click "Extract Recipe". The recipe will be parsed and added to your collection.
- **Search Recipes:** Use natural language queries (e.g., "Show me vegan pasta recipes under 30 minutes") in the chat or search bar.
- **Chat with AI:** Use the chat interface in one of two modes:
  - **OpenAI GPT Mode**: For general recipe questions, cooking advice, and standard customizations.
  - **LangChain RAG Mode**: For personalized suggestions based on your recipe collection, with the ability to reference and combine ideas from your stored recipes.
- **Manage Recipes:** View, delete, and explore your saved recipes with detailed ingredients, instructions, and nutrition info.

---

## API Endpoints (Backend)
- `POST /recipe/store` — Extract and store a recipe from a URL.
- `GET /recipe/` — List stored recipes.
- `POST /recipe/search` — Search recipes with a natural language prompt.
- `POST /recipe/customize` — Request recipe customization via chat.
- `POST /recipe/classify` — Classify user prompt (search/customize/other).
- `POST /recipe/langchain` — LangChain-powered RAG chat endpoint.

---

## Example Workflow
1. User pastes a recipe URL and clicks "Extract Recipe".
2. Backend fetches and parses the recipe using OpenAI, stores it in MongoDB and ChromaDB.
3. User searches or chats about recipes; backend uses AI and vector search to find and format results.
4. User can request customizations or generate new recipes via chat.

---

## Team Members & NLP Tasks:
- Avtans Kumar - AXK220317
- Anusha Gupta - AXG230026